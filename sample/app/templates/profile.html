{% extends "layout.html" %}
{% block content %}
<div class="card-body p-4">
  <h2 class="card-title text-center fw-bold mb-4" style="color:#212529;">내 프로필</h2>
  <hr>

  <div class="text-center mb-4">
    <img src="{{ url_for('static', filename='profile_pics/' + (user.image_file or 'default.jpg')) }}"
		alt="Profile Picture"
		class="rounded-circle border shadow-sm"
		width="140" height="140"
		onerror="this.src='{{ url_for('static', filename='profile_pics/default.jpg') }}'">

  </div>

  <div class="mb-3">
    <p><strong>아이디:</strong> {{ user.username }}</p>
    <p><strong>중대:</strong> {{ user.company or '-' }}</p>
    <p><strong>학년:</strong> {{ user.grade or '-' }}</p>
    <p><strong>이름:</strong> {{ user.real_name or '-' }}</p>
    <p><strong>생년월일:</strong> {{ user.birthdate or '-' }}</p>
    <p><strong>특징:</strong> {{ user.specialty or '-' }}</p>
  </div>

  <hr class="my-4">

  <h5 class="fw-bold mb-3" style="color:#343a40;">프로필 수정</h5>
  <form method="POST" enctype="multipart/form-data">
    <div class="mb-3">
      <label for="image" class="form-label fw-semibold">프로필 사진 변경</label>
      <input type="file" name="image" class="form-control">
    </div>

    <div class="row">
      <div class="col-md-6 mb-3">
        <label class="form-label fw-semibold">이름</label>
        <input type="text" name="real_name" class="form-control" value="{{ user.real_name or '' }}">
      </div>
      <div class="col-md-6 mb-3">
        <label class="form-label fw-semibold">생년월일</label>
        <input type="date" name="birthdate" class="form-control" value="{{ user.birthdate or '' }}">
      </div>
    </div>

    <div class="row">
      <div class="col-md-6 mb-3">
        <label class="form-label fw-semibold">중대</label>
        <input type="text" name="company" class="form-control" value="{{ user.company or '' }}">
      </div>
      <div class="col-md-6 mb-3">
        <label class="form-label fw-semibold">학년</label>
        <input type="text" name="grade" class="form-control" value="{{ user.grade or '' }}">
      </div>
    </div>

    <div class="mb-3">
      <label class="form-label fw-semibold">특징 (잘하는 분야)</label>
      <input type="text" name="specialty" class="form-control" value="{{ user.specialty or '' }}">
    </div>

    <div class="text-end">
      <button type="submit" class="btn btn-primary px-4">저장</button>
    </div>
  </form>
</div>

{% endblock %}

